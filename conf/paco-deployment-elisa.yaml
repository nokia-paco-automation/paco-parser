name: paco-anthos

credentials:
  ansible_user: root
  ansible_ssh_private_key_file: /root/.ssh/id_rsa
  ansible_ssh_extra_args: "-o IdentitiesOnly=yes"

cluster:
  kind: anthos
  region: europe-north1
  anthos_dir: baremetal
  anthos_version: 1.9.1
  project_id: anthos-bm-nokia
  cluster_name: telcocloud-cluster
  networks:
    pod: {ipv4_cidr: [172.17.0.0/16]}
    svc: {ipv4_cidr: [10.96.0.0/16]}

container_registry:
  kind: harbor
  name: paco-harbor
  url: 'https://harbor.nokia.cloudpj.be/chartrepo/paco'
  server: 'harbor.nokia.cloudpj.be'
  image_dir: paco
  email: robot@harbor.nokia.cloudpj.be
  username: robot$paco+elisa
  secret: xxx

infrastructure:
  use_vec: true
  use_vec_cni: true
  internet_dns: 8.8.8.8
  # dual-stack, ipv4-only, ipv6-only
  addressing_schema: "dual-stack"
  networks:
    loopback: {ipv4_cidr: [10.223.244.64/27], ipv6_cidr: [3100:100::/48]}
    isl: {ipv4_cidr: [100.64.0.0/16], ipv6_cidr: [3100:64::/48], ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127}
    loop: {ipv4_cidr: [10.99.0.0/24], ipv6_cidr: [3100:65::/64], ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127}
  protocols:
    protocol: ebgp
    as_pool: [65000, 65100]
    as_pool_loop: [65902, 65903]
    overlay_as: 4200001312
    overlay_protocol: evpn

workloads:
  provisioning:
    servers:
      itfces:
        itfce: {vlan_id: 0, kind: bridged}
  infrastructure:
    servers:
      itfces:
        itfce: {vlan_id: 132, kind: irb, ipv4_cidr: [10.223.244.64/27], ipv6_cidr: [2a02:1800:80:7000::/64]}
    dcgw-grp1:
      itfces:
        itfce1: {vlan_id: 102, kind: routed, ipv4_cidr: [10.64.195.2/31], ipv6_cidr: [2a02:1800:80:7050::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf1"}
        itfce2: {vlan_id: 202, kind: routed, ipv4_cidr: [10.64.195.16/31], ipv6_cidr: [2a02:1803:80:7051::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf2"}
  multus-mgmt:
    servers:
      itfces:
        ipvlan: {vlan_id: 133, kind: irb, ipv4_cidr: [10.1.33.0/24], ipv6_cidr: [2a02:1800:80:7200::/64]}
        sriov1.1: {vlan_id: 134, kind: irb, ipv4_cidr: [10.1.34.0/27, 10.1.34.32/27, 10.1.34.64/27, 10.1.34.96/27, 10.1.34.128/27, 10.1.34.160/27], ipv6_cidr: [2a02:1800:80:7210::/64, 2a02:1800:80:7211::/64, 2a02:1800:80:7212::/64, 2a02:1800:80:7213::/64, 2a02:1800:80:7214::/64, 2a02:1800:80:7215::/64], target: leaf1}
        sriov2.1: {vlan_id: 135, kind: irb, ipv4_cidr: [10.1.35.0/27, 10.1.35.32/27, 10.1.35.64/27, 10.1.35.96/27, 10.1.35.128/27, 10.1.35.160/27], ipv6_cidr: [2a02:1800:80:7220::/64, 2a02:1800:80:7221::/64, 2a02:1800:80:7222::/64, 2a02:1800:80:7223::/64, 2a02:1800:80:7224::/64, 2a02:1800:80:7225::/64], target: leaf2}
    dcgw-grp1:
      itfces:
        itfce1: {vlan_id: 103, kind: routed, ipv4_cidr: [10.64.195.4/31], ipv6_cidr: [2a02:1800:80:7160::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf1"}
        itfce2: {vlan_id: 203, kind: routed, ipv4_cidr: [10.64.195.18/31], ipv6_cidr: [2a02:1803:80:7161::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf2"}
  multus-internal:
    servers:
      itfces:
        ipvlan: {vlan_id: 136, kind: irb, ipv4_cidr: [10.1.36.0/24], ipv6_cidr: [2a02:1800:80:7300::/64]}
        sriov1.1: {vlan_id: 137, kind: irb, ipv4_cidr: [10.1.37.0/27, 10.1.37.32/27, 10.1.37.64/27, 10.1.37.96/27, 10.1.37.128/27, 10.1.37.160/27], ipv6_cidr: [2a02:1800:80:7310::/64, 2a02:1800:80:7311::/64, 2a02:1800:80:7312::/64, 2a02:1800:80:7313::/64, 2a02:1800:80:7314::/64, 2a02:1800:80:7315::/64], target: leaf1}
        sriov2.1: {vlan_id: 138, kind: irb, ipv4_cidr: [10.1.38.0/27, 10.1.38.32/27, 10.1.38.64/27, 10.1.38.96/27, 10.1.38.128/27, 10.1.38.160/27], ipv6_cidr: [2a02:1800:80:7320::/64, 2a02:1800:80:7321::/64, 2a02:1800:80:7322::/64, 2a02:1800:80:7323::/64, 2a02:1800:80:7324::/64, 2a02:1800:80:7325::/64], target: leaf2}
      loopbacks:
        loopback: {idx: 104, ipv4_cidr: [10.0.25.0/24], ipv6_cidr: [2a02:1800:80:7250::/64]}
    dcgw-grp1:
      itfces:
        itfce1: {vlan_id: 104, kind: routed, ipv4_cidr: [10.64.195.6/31], ipv6_cidr: [2a02:1800:80:7260::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf1"}
        itfce2: {vlan_id: 204, kind: routed, ipv4_cidr: [10.64.195.20/31], ipv6_cidr: [2a02:1803:80:7261::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf2"}
  multus-external:
    servers:
      itfces:
        ipvlan: {vlan_id: 139, kind: irb, ipv4_cidr: [10.1.39.0/24], ipv6_cidr: [2a02:1800:80:7400::/64]}
        sriov1.1: {vlan_id: 140, kind: irb, ipv4_cidr: [10.1.40.0/27, 10.1.40.32/27, 10.1.40.64/27, 10.1.40.96/27, 10.1.40.128/27, 10.1.40.160/27], ipv6_cidr: [2a02:1800:80:7410::/64, 2a02:1800:80:7411::/64, 2a02:1800:80:7412::/64, 2a02:1800:80:7413::/64, 2a02:1800:80:7414::/64, 2a02:1800:80:7415::/64], target: leaf1}
        sriov2.1: {vlan_id: 141, kind: irb, ipv4_cidr: [10.1.41.0/27, 10.1.41.32/27, 10.1.41.64/27, 10.1.41.96/27, 10.1.41.128/27, 10.1.41.160/27], ipv6_cidr: [2a02:1800:80:7420::/64, 2a02:1800:80:7421::/64, 2a02:1800:80:7422::/64, 2a02:1800:80:7423::/64, 2a02:1800:80:7424::/64, 2a02:1800:80:7425::/64], target: leaf2}
      loopbacks:
       loopback: {idx: 105, ipv4_cidr: [10.0.35.0/24], ipv6_cidr: [2a02:1800:80:7350::/64]}
    dcgw-grp1:
      itfces:
        itfce1: {vlan_id: 105, kind: routed, ipv4_cidr: [10.64.195.8/31], ipv6_cidr: [2a02:1800:80:7360::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf1"}
        itfce2: {vlan_id: 205, kind: routed, ipv4_cidr: [10.64.195.22/31], ipv6_cidr: [2a02:1803:80:7361::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf2"}
  multus-sba:
    servers:
      itfces:
        ipvlan: {vlan_id: 142, kind: irb, ipv4_cidr: [10.1.42.0/24], ipv6_cidr: [2a02:1800:80:7100::/64]}
        sriov1.1: {vlan_id: 143, kind: irb, ipv4_cidr: [10.1.43.0/27, 10.1.43.32/27, 10.1.43.64/27, 10.1.43.96/27, 10.1.43.128/27, 10.1.43.160/27], ipv6_cidr: [2a02:1800:80:7110::/64, 2a02:1800:80:7111::/64, 2a02:1800:80:7112::/64, 2a02:1800:80:7113::/64, 2a02:1800:80:7114::/64, 2a02:1800:80:7115::/64], target: leaf1}
        sriov2.1: {vlan_id: 144, kind: irb, ipv4_cidr: [10.1.44.0/27, 10.1.44.32/27, 10.1.44.64/27, 10.1.44.96/27, 10.1.44.128/27, 10.1.44.160/27], ipv6_cidr: [2a02:1800:80:7120::/64, 2a02:1800:80:7121::/64, 2a02:1800:80:7122::/64, 2a02:1800:80:7123::/64, 2a02:1800:80:7124::/64, 2a02:1800:80:7125::/64], target: leaf2}
      loopbacks:
       loopback: {idx: 106, ipv4_cidr: [10.0.45.0/24], ipv6_cidr: [2a02:1800:80:7450::/64]}
    dcgw-grp1:
      itfces:
        itfce1: {vlan_id: 106, kind: routed, ipv4_cidr: [10.64.195.10/31], ipv6_cidr: [2a02:1800:80:7460::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf1"}
        itfce2: {vlan_id: 206, kind: routed, ipv4_cidr: [10.64.195.24/31], ipv6_cidr: [2a02:1803:80:7461::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf2"}
  multus-internet:
    servers:
      itfces:
        ipvlan: {vlan_id: 145, kind: irb, ipv4_cidr: [10.1.45.0/24], ipv6_cidr: [2a02:1800:80:7500::/64]}
        sriov1.1: {vlan_id: 146, kind: irb, ipv4_cidr: [10.1.46.0/27, 10.1.46.32/27, 10.1.46.64/27, 10.1.46.96/27, 10.1.46.128/27, 10.1.46.160/27], ipv6_cidr: [2a02:1800:80:7510::/64, 2a02:1800:80:7511::/64, 2a02:1800:80:7512::/64, 2a02:1800:80:7513::/64, 2a02:1800:80:7514::/64, 2a02:1800:80:7515::/64], target: leaf1}
        sriov2.1: {vlan_id: 147, kind: irb, ipv4_cidr: [10.1.47.0/27, 10.1.47.32/27, 10.1.47.64/27, 10.1.47.96/27, 10.1.47.128/27, 10.1.47.160/27], ipv6_cidr: [2a02:1800:80:7520::/64, 2a02:1800:80:7521::/64, 2a02:1800:80:7522::/64, 2a02:1800:80:7523::/64, 2a02:1800:80:7524::/64, 2a02:1800:80:7525::/64], target: leaf2}
      loopbacks:
        loopback: {idx: 107, ipv4_cidr: [10.0.55.0/24], ipv6_cidr: [2a02:1800:80:7550::/64]}
    dcgw-grp1:
      itfces:
        itfce1: {vlan_id: 107, kind: routed, ipv4_cidr: [10.64.195.12/31], ipv6_cidr: [2a02:1800:80:7560::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf1"}
        itfce2: {vlan_id: 207, kind: routed, ipv4_cidr: [10.64.195.26/31], ipv6_cidr: [2a02:1803:80:7561::1/64], peer_as: 719, ipv4_itfce_prefix_length: 31, ipv6_itfce_prefix_length: 127, addressing_schema: "dual-stack", target: "leaf2"}
  
appnetwindexes:
  itfce:
    switch:
      gw: 1
    smf:
      llb: 2
      int: 160
    upf:
      llb: 3
      int: 170
      # allocates from 4..19 in a ntok model
      # for ntok only 1 subnet is used, for 1to1 2 subnets are used
      lmg: 4
    amf:
      # allocates 4 addresses
      int: 151
      fip: 200
  loopback:
    # one per switch
    switch: 
      # [1..2] allocated one per switch
      bgp: 1
    smf:
      system:  23
      bgp: 3
      # [31..36] allocates max 6 (UPF/SMF LLB pods per CNF)
      llb-pod: 31
      llb-sig: 103
    upf:
      system:  24
      bgp: 4
      # [41..46] allocates max 6 (UPF/SMF LLB pods per CNF)
      llb-pod: 41
      llb-sig: 104
      # [51..66] max. 16 (UPF LMG pods per CNF)
      lmg-pod: 51
      # [71..86] max. 16 (UPF LMG pods per CNF)
      lmg-sig: 71
    amf:
      sig: 105

application:
  paco:
    global:
      multus: 
        3GPP_SBA: {wl-name: multus-sba, vrfcp-id: 17001, vrfup-id: 1000}
        oam: {wl-name: multus-mgmt, vrfcp-id: 17002, vrfup-id: 2000}
        3GPP_Internal: {wl-name: multus-internal, vrfcp-id: 17003, vrfup-id: 3000}
        3GPP_External: {wl-name: multus-external, vrfcp-id: 17004, vrfup-id: 4000}
        3GPP_Internet: {wl-name: multus-internet, vrfcp-id: 17005, vrfup-id: 5000}
    deployment:
      #multiNet, vlanAwareApp
      connectivitymode: multiNet 
      networkname: NokiaDemo
      networkshortname: NOKIA
      nat: true
      sigrefpoints: 10.100.11.2/24
      apn: demo.nokia
      uepoolcidr: 100.64.0.0/16
      supi: 
      - ["206990000000000", "206990299999999"]
      - ["206990300000000", "206990499999999"]
      plmn: {mcc: 206, mnc: 99}
      dnn: [demo.nokia.mnc099.mcc206.gprs, test.demo.nokia.mnc099.mcc206.gprs]
      tac: [1, 2, 9999, 3111, 3112, 3113, 3114, 5000, 5001]
      slices:
        sst1: {value: 1, diff: [sd1: ABCDEF, sd2: FEDCBA]}
        sst2: {value: 2, diff: [sd3: AAAAAA]}
    cnfs: 
      upf:
        deployment: ntok
        host_device: bond0
        k: 1
        enabled: true
        namespace: upf
        networking: 
          as: 65003
          # we assume the internal is always present since we take system IP from there
          multus: 
            oam: {wl-name: multus-mgmt, type: ipvlan}
            3GPP_Internal: {wl-name: multus-internal, type: sriov}
            3GPP_External: {wl-name: multus-external, type: sriov}
            3GPP_Internet: {wl-name: multus-internet, type: sriov}
        pods:
          loam: {imageName: cmg-lmg ,tag: B-21.8.R1, cpu: "4", memory: 8Gi, enabled: true }
          lmg: {imageName: cmg-lmg ,tag: B-21.8.R1, cpu: "8", memory: 16Gi, hugepages1Gi: 1Gi, nodeSelector: "{}", enabled: true, total: 3, numa: 0}
          llb: {imageName: cmg-lmg ,tag: B-21.8.R1, cpu: "6", memory: 16Gi, hugepages1Gi: 1Gi, nodeSelector: "{}", enabled: true, total: 2, numa: 0}
          nasc: {imageName: cmg-nasc ,tag: B-21.8.R1, cpu: "1", memory: 16Gi, enabled: true}
          logging: {imageName: cmg-logging ,tag: B-21.8.R1, cpu: "1", memory: 1Gi, enabled: true}
      smf:
        enabled: true
        namespace: smf
        host_device: bond0
        networking: 
          as: 65002
          # we assume the internal is always present since we take system IP from there
          multus: 
            oam: {wl-name: multus-mgmt, type: ipvlan}
            3GPP_Internal: {wl-name: multus-internal, type: sriov}
            3GPP_SBA: {wl-name: multus-sba, type: sriov}
        pods:
          loam: {imageName: cmg-lmg ,tag: B-21.8.R1, cpu: "4", memory: 8Gi, enabled: true}
          lmg: {imageName: cmg-lmg ,tag: B-21.8.R1, cpu: "8", memory: 16Gi, hugepages1Gi: 1Gi, nodeSelector: "{}", enabled: false}
          llb: {imageName: cmg-lmg ,tag: B-21.8.R1, cpu: "6", memory: 16Gi, hugepages1Gi: 1Gi, nodeSelector: "{}", enabled: true, total: 2, numa: 0}
          nasc: {imageName: cmg-nasc ,tag: B-21.8.R1, cpu: "1", memory: 1Gi, enabled: true}
          logging: {imageName: cmg-logging ,tag: B-21.8.R1, cpu: "1", memory: 1Gi, enabled: true}
      amf:
        enabled: true
        namespace: amf
        storage_class: manual
        prometheus_ip: 192.168.5.14
        host_device: bond0
        networking: 
          # oam is mandatory, other networks can be renamed or deleted/added
          multus:
            oam: {wl-name: multus-mgmt, type: ipvlan}
            3GPP_External: {wl-name: multus-external, type: ipvlan}
            3GPP_SBA: {wl-name: multus-sba, type: ipvlan}
        pods:
          cmm-operator: {imageName: cmm-operator, tag: CMM21.8.0, cpu: "1", memory: 1Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 15, periodSeconds: 20, enabled: true}
          dbs: {imageName: cmm-aimdbs, tag: CMM21.8.0, cpu: "4", memory: 8Gi, nodeSelector: "{}", antiaffinity: [dbs], initialDelaySeconds: 15, periodSeconds: 20, enabled: true}
          # 4x pods, only 3x workers -> no antiaffinity for now
          #emms_amms: {imageName: cmm-aimcpps, tag: CMM21.8.0, cpu: "4", memory: 16Gi, nodeSelector: "{}", antiaffinity: [amms], initialDelaySeconds: 5, periodSeconds: 20, enabled: true}
          emms_amms: {imageName: cmm-aimcpps, tag: CMM21.8.0, cpu: "4", memory: 16Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 5, periodSeconds: 20, enabled: true}
          ipds: {imageName: cmm-aimipds, tag: CMM21.8.0, cpu: "6", memory: 12Gi, nodeSelector: "{}", antiaffinity: [ipds], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          ipps: {imageName: cmm-aimipps, tag: CMM21.8.0, cpu: "8", memory: 12Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: false}
          necc: {tag: CMM21.8.0, cpu: "4", memory: 12Gi, nodeSelector: "{}", antiaffinity: [necc], initialDelaySeconds: 120, periodSeconds: 20, enabled: true}
          paps: {imageName: cmm-aimpaps, tag: CMM21.8.0, cpu: "4", memory: 12Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: false}
          alms: {imageName: cmm-alms, tag: CMM21.8.0, cpu: "0.2", memory: 1Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          ctcs: {imageName: cmm-aimctcs, tag: CMM21.8.0, cpu: "2", memory: 1Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          eems: {imageName: cmm-aimeems, tag: CMM21.8.0, cpu: "2", memory: 2.5Gi, nodeSelector: "{}", antiaffinity: [eems], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          lihs: {imageName: cmm-aimlihs, tag: CMM21.8.0, cpu: "1", memory: 1Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          alarm: {imageName: cmm-alarm, tag: CMM21.8.0, cpu: "2", memory: 1Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          bsp_init: {imageName: cmm-init, tag: CMM21.8.0, cpu: "0.8", memory: 1Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          loglocal: {imageName: cmm-loglocal, tag: CMM21.8.0, cpu: "0.1", memory: 256Mi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          lxprofile: {imageName: cmm-lxprofile, tag: CMM21.8.0, cpu: "0.1", memory: 256Mi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          mmemon: {imageName: cmm-mmemon, tag: CMM21.8.0, cpu: "0.3", memory: 256Mi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          platservices: {imageName: cmm-platservices, tag: CMM21.8.0, cpu: "0.2", memory: 1Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
          redis: {imageName: cmm-redis, tag: CMM21.8.0, cpu: "1", memory: 1Gi, nodeSelector: "{}", antiaffinity: [], initialDelaySeconds: 30, periodSeconds: 20, enabled: true}
    non_multus_cnfs:
      nrd:
        namespace: nrd
        service_port: 8080
        db_namespace: nrddb
      cdb_smf:
        dbproxy_tag: foo
        redis_tag: bar
      cdb_upf:
        dbproxy_tag: bar
        redis_tag: foo
topology:
  kinds:
    srl:
      type: ixrd2
      position: network
    vr-sros:
      type: sr-1s
      position: network
    linux:
      type: rhel8
      labels: {"need_update_dist": false, "install_rt_sched": false, "install_net_driver": true} 
      position: access
      storage:
        nfs_server: 100.112.1.201
        nfs_mount: /nfs
        csi: nfs-csi
  nodes:
    leaf1:
      kind: srl
      mgmt_ipv4: 10.223.244.20
      labels: {"target": "leaf-grp1"}
      as: 4259845498      
    leaf2:
      kind: srl
      mgmt_ipv4: 10.223.244.21
      labels: {"target": "leaf-grp1"}
      as: 4259845498
    infra0:
      kind: linux
      mgmt_ipv4: 10.223.244.66
      labels: {"target": "servers"}
    master0:
      kind: linux
      mgmt_ipv4: 10.223.244.67
      labels: {"target": "servers"}
    worker0:
      kind: linux
      mgmt_ipv4: 10.223.244.68
      labels: {"target": "servers"}
    worker1:
      kind: linux
      mgmt_ipv4: 10.223.244.69
      labels: {"target": "servers"}
    worker2:
      kind: linux
      mgmt_ipv4: 10.223.244.70
      labels: {"target": "servers"}
    worker3:
      kind: linux
      mgmt_ipv4: 10.223.244.71
      labels: {"target": "servers"}
    dcgw1:
      kind: sros
      mgmt_ipv4: 172.20.20.1
      labels: {"target": "dcgw-grp1"}
    dcgw2:
      kind: sros
      mgmt_ipv4: 172.20.20.2
      labels: {"target": "dcgw-grp1"}
  links:
    # server connectivity
    - endpoints: ["leaf1:e1-3/1", "infra0:ens1f1"]
      labels: {"kind": "access", "type": "esi1", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 0}
    - endpoints: ["leaf2:e1-3/1", "infra0:ens1f0"]
      labels: {"kind": "access", "type": "esi1", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 0}
    - endpoints: ["leaf1:e1-3/2", "master0:ens1f1"]
      labels: {"kind": "access", "type": "esi2", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 0}
    - endpoints: ["leaf2:e1-3/2", "master0:ens1f0"]
      labels: {"kind": "access", "type": "esi2", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 0}
    - endpoints: ["leaf1:e1-3/3", "worker0:ens1f1"]
      labels: {"kind": "access", "type": "esi3", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 0}
    - endpoints: ["leaf2:e1-3/3", "worker0:ens1f0"]
      labels: {"kind": "access", "type": "esi3", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 0}
    - endpoints: ["leaf1:e1-15/3", "worker0:ens2f1"]
      labels: {"kind": "access", "type": "esi4", "client-name": "bond1", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 1}
    - endpoints: ["leaf2:e1-15/3", "worker0:ens2f0"]
      labels: {"kind": "access", "type": "esi4", "client-name": "bond1", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 1}
    - endpoints: ["leaf1:e1-3/4", "worker1:ens1f1"]
      labels: {"kind": "access", "type": "esi5", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 0}
    - endpoints: ["leaf2:e1-3/4", "worker1:ens1f0"]
      labels: {"kind": "access", "type": "esi5", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 0}
    - endpoints: ["leaf1:e1-15/4", "worker1:ens2f1"]
      labels: {"kind": "access", "type": "esi6", "client-name": "bond1", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 1}
    - endpoints: ["leaf2:e1-15/4", "worker1:ens2f0"]
      labels: {"kind": "access", "type": "esi6", "client-name": "bond1", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 1}
    - endpoints: ["leaf1:e1-4/1", "worker2:ens1f1"]
      labels: {"kind": "access", "type": "esi7", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 0}
    - endpoints: ["leaf2:e1-4/1", "worker2:ens1f0"]
      labels: {"kind": "access", "type": "esi7", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 0}
    - endpoints: ["leaf1:e1-16/1", "worker2:ens2f1"]
      labels: {"kind": "access", "type": "esi8", "client-name": "bond1", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 1}
    - endpoints: ["leaf2:e1-16/1", "worker2:ens2f0"]
      labels: {"kind": "access", "type": "esi8", "client-name": "bond1", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 1}
    - endpoints: ["leaf1:e1-4/2", "worker3:ens1f1"]
      labels: {"kind": "access", "type": "esi9", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 0}
    - endpoints: ["leaf2:e1-4/2", "worker3:ens1f0"]
      labels: {"kind": "access", "type": "esi9", "client-name": "bond0", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 0}
    - endpoints: ["leaf1:e1-16/2", "worker3:ens2f1"]
      labels: {"kind": "access", "type": "esi10", "client-name": "bond1", "sriov": true, "ipvlan": true, "speed": "25G", "pxe": true, "numa": 1}
    - endpoints: ["leaf2:e1-16/2", "worker3:ens2f0"]
      labels: {"kind": "access", "type": "esi10", "client-name": "bond1", "sriov": true, "ipvlan": true, "speed": "25G", "numa": 1}
    # switch interconnect links
    - endpoints: ["leaf1:e1-27", "leaf2:e1-27"]
    - endpoints: ["leaf1:e1-1", "leaf1:e1-2"]
      labels: {"kind": "loop", "speed": "10G"}
    - endpoints: ["leaf2:e1-1", "leaf2:e1-2"]
      labels: {"kind": "loop", "speed": "10G"}
    # dcgw connectivity
    - endpoints: ["leaf1:e1-33", "dcgw1:eth1"]
      labels: {"kind": "dcgw", "speed": "100G"}
    - endpoints: ["leaf2:e1-33", "dcgw2:eth1"]
      labels: {"kind": "dcgw", "speed": "100G"}